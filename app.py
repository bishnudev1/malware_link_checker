from flask import Flask, render_template,request

app = Flask(__name__)


def checkURL(URL,subDomains):
    try:
        for items in subDomains:
            if items in URL:
                if "https" in URL:
                    return True
                return False
    except:
        return "Some error has occured"

@app.route('/',methods=['GET','POST'])
def checker():
    result = "@Bishnudev 2022🧑🏻‍💻"
    if(request.method == 'POST'):
        URL = request.form['link']
        subDomains = ["com","in","edu","org","ml","tk","dev"]

        if(checkURL(URL,subDomains) == True):
            result = "Safe link 😇"
        elif(checkURL(URL,subDomains) == False):
            result = "Malware link 🤔"
        else:
            result = "Unsafe link ☠️"

    return render_template('index.html',result=result)


if __name__ == "__main__":
    app.run(debug=True)
